{"version":3,"file":"TimeAgo.js","sourceRoot":"","sources":["../../ts/components/TimeAgo.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAA;AACxD,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAA;AAMxC,MAAM,CAAC,MAAM,OAAO,GAAG,CAAC,EAAE,KAAK,EAAS,EAAE,EAAE;IAC3C,MAAM,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;IAErC,MAAM,YAAY,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,CAAA;IAEtE,SAAS,CAAC,GAAG,EAAE;QACd,MAAM,GAAG,GAAG,WAAW,CAAC,GAAG,EAAE;YAC5B,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;QAC3B,CAAC,EAAE,IAAI,CAAC,CAAA;QACR,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAA;IAChC,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,OAAO,wBAAM,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC,GAAO,CAAA;AACxD,CAAC,CAAA;AAED,MAAM,eAAe,GAAG,CAAC,OAAe,EAAE,EAAE;IAC3C,IAAI,OAAO,IAAI,EAAE;QAAE,OAAO,UAAU,CAAA;IACpC,IAAI,OAAO,IAAI,EAAE;QAAE,OAAO,wBAAwB,CAAA;IAClD,IAAI,OAAO,IAAI,IAAI;QAAE,OAAO,uBAAuB,CAAA;IACnD,IAAI,OAAO,IAAI,KAAK;QAAE,OAAO,eAAe,CAAA;IAC5C,OAAO,UAAU,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,WAAW,CAAA;AACxD,CAAC,CAAA","sourcesContent":["import { useComputed, useSignal } from '@preact/signals'\nimport { useEffect } from 'preact/hooks'\n\ntype Props = {\n\tsince: number\n}\n\nexport const TimeAgo = ({ since }: Props) => {\n\tconst timeNow = useSignal(Date.now())\n\n\tconst secondsApart = useComputed(() => (timeNow.value - since) / 1000)\n\n\tuseEffect(() => {\n\t\tconst age = setInterval(() => {\n\t\t\ttimeNow.value = Date.now()\n\t\t}, 1000)\n\t\treturn () => clearInterval(age)\n\t}, [])\n\n\treturn <div>{formatTimeSince(secondsApart.value)}</div>\n}\n\nconst formatTimeSince = (seconds: number) => {\n\tif (seconds <= 15) return 'Just now'\n\tif (seconds <= 60) return 'Less than a minute ago'\n\tif (seconds <= 3600) return 'Less than an hour ago'\n\tif (seconds <= 86400) return 'Earlier today'\n\treturn `Around ${Math.floor(seconds / 86400)} days ago`\n}\n"]}