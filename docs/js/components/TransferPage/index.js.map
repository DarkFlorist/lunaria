{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../ts/components/TransferPage/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useSignalEffect } from '@preact/signals'\nimport { LAYOUT_SCROLL_OPTIONS } from '../../library/constants.js'\nimport { Header, HeaderNav, Main, Navigation, Root, usePanels } from '../DefaultLayout/index.js'\nimport { ConnectAccount } from '../ConnectAccount.js'\nimport { TransferHistory } from '../TransferHistory.js'\nimport { DiscordInvite } from '../DiscordInvite.js'\nimport { Templates } from '../Templates.js'\nimport { MainFooter } from '../MainFooter.js'\nimport { TransferProvider, useTransfer } from '../../context/Transfer.js'\nimport { TransferHistoryProvider } from '../../context/TransferHistory.js'\nimport { SetupTransfer } from '../SetupTransfer.js'\nimport { TokenManagerProvider } from '../../context/TokenManager.js'\nimport { AccountReconnect } from '../AccountReconnect.js'\nimport * as Icon from '../Icon/index.js'\n\nexport const TransferPage = () => {\n\treturn (\n\t\t<>\n\t\t\t<AccountReconnect />\n\t\t\t<div class='fixed inset-0 bg-black text-white h-[100dvh]'>\n\t\t\t\t<Root>\n\t\t\t\t\t<TokenManagerProvider>\n\t\t\t\t\t\t<TransferHistoryProvider>\n\t\t\t\t\t\t\t<TransferProvider>\n\t\t\t\t\t\t\t\t<LeftPanel />\n\t\t\t\t\t\t\t\t<MainPanel />\n\t\t\t\t\t\t\t</TransferProvider>\n\t\t\t\t\t\t</TransferHistoryProvider>\n\t\t\t\t\t</TokenManagerProvider>\n\t\t\t\t</Root>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nconst MainPanel = () => {\n\tconst { transaction } = useTransfer()\n\tconst { nav, main } = usePanels()\n\n\tconst redirectOnSuccess = (path: string) => {\n\t\twindow.location.hash = path\n\t}\n\n\tuseSignalEffect(() => {\n\t\tif (transaction.value.state !== 'resolved') return\n\t\tredirectOnSuccess(`#tx/${transaction.value.value.hash}`)\n\t})\n\n\treturn (\n\t\t<Main>\n\t\t\t<Header>\n\t\t\t\t<HeaderNav show={main?.isIntersecting} iconLeft={Icon.Menu} onClick={() => nav?.target.scrollIntoView(LAYOUT_SCROLL_OPTIONS)} text='Menu' />\n\t\t\t</Header>\n\n\t\t\t<div class='px-4'>\n\t\t\t\t<ConnectAccount />\n\t\t\t</div>\n\n\t\t\t<div class='px-4'>\n\t\t\t\t<div class='py-4'>\n\t\t\t\t\t<div class='text-3xl font-bold'>Transfer</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class='px-4'>\n\t\t\t\t<SetupTransfer />\n\t\t\t</div>\n\t\t\t<MainFooter />\n\t\t</Main>\n\t)\n}\n\nconst LeftPanel = () => {\n\tconst { nav, main } = usePanels()\n\n\t// full url without the hash route\n\tconst [baseUrl] = window.location.href.split('#')\n\n\treturn (\n\t\t<Navigation>\n\t\t\t<Header>\n\t\t\t\t<HeaderNav show={nav?.isIntersecting} iconLeft={Icon.Xmark} onClick={() => main?.target.scrollIntoView(LAYOUT_SCROLL_OPTIONS)} text='Close Menu' />\n\t\t\t</Header>\n\n\t\t\t<div class='mb-4 p-4'>\n\t\t\t\t<div class='flex items-center gap-2'>\n\t\t\t\t\t<img class='w-10 h-10' src='./img/icon-lunaria.svg' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class='text-3xl font-bold leading-none'>Lunaria</div>\n\t\t\t\t\t\t<div class='text-white/50 leading-none'>Decentralized Wallet</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class='pl-4 mb-4'>\n\t\t\t\t<div class='text-white/30 text-sm'>Actions</div>\n\t\t\t\t<a href={baseUrl}>\n\t\t\t\t\t<div class='grid grid-cols-[auto,1fr] items-center gap-4 mb-4'>\n\t\t\t\t\t\t<div class='bg-white/30 w-10 h-10 rounded-full' />\n\t\t\t\t\t\t<div class='py-2 leading-tight'>\n\t\t\t\t\t\t\t<div class='font-bold'>New Transfer</div>\n\t\t\t\t\t\t\t<div class='text-white/50'>Send and Manage Tokens</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<TransferHistory />\n\n\t\t\t<Templates />\n\n\t\t\t<DiscordInvite />\n\t\t</Navigation>\n\t)\n}\n"]}